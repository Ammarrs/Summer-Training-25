def clamp_difficulty(d):
    return max(1, min(d, 3))
